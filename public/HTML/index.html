<!DOCTYPE html>
  <html>
    <head>
      <!--Import Google Icon Font-->
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      
      <!--Import materialize.css-->
      <link type="text/css" rel="stylesheet" href="../styles/materialize.min.css"  media="screen,projection"/>
      <link href="../styles/dashboardstyle.css" type="text/css" rel="stylesheet" media="screen,projection"/>
      <link href="https://fonts.googleapis.com/css?family=Amatic+SC&display=swap" rel="stylesheet">

      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
      <title>Moolah</title>

    </head>
    
    <!-- Navbar -->
    <nav class="nav-extended">
      <div class="nav-wrapper">
          <span id="nav-icon" class="brand-logo"></i>Moolah</span>
        <ul class="right hide-on-med-and-down">
          <li><a href="profile"><i id="profile-icon" class="large material-icons">account_circle</i></a></li>
        </ul>
      </div>

      <div class="nav-content">
          <ul class="tabs">
            <li class="tab"><a href="/">Home</a></li>
            <li class="tab"><a href="expenses">Expenses</a></li>
            <li class="tab"><a href="budget">Budget Tracking</a></li>
          </ul>
        </div>
  </nav>
  
   <!-- Title of Page -->
  <div class="nav-content">
      <span class="title">Dashboard</span>
  </div>

    <body>
        <div id="chart-container" class="container">
            <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
            <script type="text/javascript">
              google.charts.load("current", {packages:["corechart"]});
              google.charts.setOnLoadCallback(drawChart);
              function drawChart() {
                var data = google.visualization.arrayToDataTable([
                  ['Expenses', 'Spend'],
                  ['Mortgage',   11],
                  ['Utilities', 6],
                  ['Gas',   2],
                  ['Entertainment', 2],
                  ['Groceries', 7]
                ]);


            
    // Get data for a given user from categories table in DB.
    // GET * FROM categories WHERE UserId == {the id of whoever is logged in} you can start with hardcoded 1
    // This will result in categories with ids. e.x. (1, 2, 3, 4, etc.)

    // for each entry category returned from DB
    // save a var with the name of the category 'var catName = this.name'
    // save a var to track the 'total', initiate it with a value of 0.

    // Get * from expense table for a given categoryID 
    // for each entry returned in this category
        // get the amount add it to 'total'
    ////
    // DashboardEntries.push([catNAme, total])
    ////
        
                var options = {
                  title: 'Total Spending',
                  pieHole: 0.5,
                  slices: {
                        0: { color: '#ff5252'},
                        1: { color: '#e0440e' },
                        2: { color: '#e6693e' },
                        3: { color: '#ec8f6e' },
                        4: { color: '#f3b49f' },
                        5: { color: '#f6c7b6' }
                    }
                };
        
                var chart = new google.visualization.PieChart(document.getElementById('donutchart'));
                chart.draw(data, options);
              }
            </script>
            <script type="text/javascript" src="../js/index.js">

                var what = whatever();
                console.log("this is printing: " + what);

            </script>
            <div id="donutchart" style="width: 900px; height: 450px;"></div>
        </div>

        <button class="this-button" onclick="clickButton()">Click to run</button>

<script src="https://code.jquery.com/jquery-3.4.1.js" integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>
<script class="someScript">
    function clickButton() {

        // Getting the categries data for a user in the sql db where userId is 1
        var userId = [1];
        var responseCategory = $.ajax({
            type: "GET",
            url: "api/category/all/" + userId,
            success: function(data) {
               console.log(data);
               return JSON.stringify(data);
           }
        }).then(categories => categories.forEach(category => console.log(category)));

        // Getting the expenses belonging to the categories at id of 1
        var CategoryId = 1;
        var responseExpenses = $.ajax({
          type: "GET",
          url: "api/expense/" + CategoryId,
          success: function(data) {
            console.log(data);
            return JSON.stringify(data);
          }
        }).then(expenses => expenses.forEach(expense => console.log(expense)));
        

        // Creating a function to take all category names and returns it to the Google matrix
        var categoryNames = function() {
          
        }

        // Function takes all "category names"
          // var categoryNames = this.name
          // it tallies "expenses amount" for each -- var trackingExpenses = 0; initiate it with a value of 0
            // returns it into the matrix

    // for each entry category returned from DB (data)
    // save a var with the name of the category 'var categoryName = this.name'

    // Get * from expense table for a given categoryID 
    // for each entry returned in this category
        // get the amount add it to 'total'
    ////
    // DashboardEntries.push([catNAme, total])
    ////

    };

</script>

<br>

        
    <!-- Footer -->
    <footer class="page-footer" id="footer-body">
        <div class="container">
        </div>
        <div class="footer-copyright">
            <div class="container">
            Â© 2019 Copyright. All rights reserved.
            </div>
        </div>
    </footer>

      <!--JavaScript at end of body for optimized loading-->
      <script src="https://code.jquery.com/jquery-3.4.1.js" integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>
      <script type="text/javascript" src="../js/materialize.min.js"></script>
      <script type="text/javascript" src="../js/index.js"></script>
    </body>
</html>
        